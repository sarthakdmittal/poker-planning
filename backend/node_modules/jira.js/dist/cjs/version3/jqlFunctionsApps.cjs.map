{"version":3,"file":"jqlFunctionsApps.cjs","sources":["../../../../src/version3/jqlFunctionsApps.ts"],"sourcesContent":["import type * as Models from './models';\nimport type * as Parameters from './parameters';\nimport type { Client } from '../clients';\nimport type { Callback } from '../callback';\nimport type { RequestConfig } from '../requestConfig';\n\nexport class JqlFunctionsApps {\n  constructor(private client: Client) {}\n\n  /**\n   * Returns the list of a function's precomputations along with information about when they were created, updated, and\n   * last used. Each precomputation has a `value` - the JQL fragment to replace the custom function clause with.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** This\n   * API is only accessible to apps and apps can only inspect their own functions.\n   *\n   * The new `read:app-data:jira` OAuth scope is 100% optional now, and not using it won't break your app. However, we\n   * recommend adding it to your app's scope list because we will eventually make it mandatory.\n   */\n  async getPrecomputations<T = Models.PageJqlFunctionPrecomputation>(\n    parameters: Parameters.GetPrecomputations | undefined,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Returns the list of a function's precomputations along with information about when they were created, updated, and\n   * last used. Each precomputation has a `value` - the JQL fragment to replace the custom function clause with.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** This\n   * API is only accessible to apps and apps can only inspect their own functions.\n   *\n   * The new `read:app-data:jira` OAuth scope is 100% optional now, and not using it won't break your app. However, we\n   * recommend adding it to your app's scope list because we will eventually make it mandatory.\n   */\n  async getPrecomputations<T = Models.PageJqlFunctionPrecomputation>(\n    parameters?: Parameters.GetPrecomputations,\n    callback?: never,\n  ): Promise<T>;\n  async getPrecomputations<T = Models.PageJqlFunctionPrecomputation>(\n    parameters?: Parameters.GetPrecomputations,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/api/3/jql/function/computation',\n      method: 'GET',\n      params: {\n        functionKey: parameters?.functionKey,\n        startAt: parameters?.startAt,\n        maxResults: parameters?.maxResults,\n        orderBy: parameters?.orderBy,\n        filter: parameters?.filter,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Update the precomputation value of a function created by a Forge/Connect app.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** An API\n   * for apps to update their own precomputations.\n   *\n   * The new `write:app-data:jira` OAuth scope is 100% optional now, and not using it won't break your app. However, we\n   * recommend adding it to your app's scope list because we will eventually make it mandatory.\n   */\n  async updatePrecomputations<T = void>(\n    parameters: Parameters.UpdatePrecomputations,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Update the precomputation value of a function created by a Forge/Connect app.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** An API\n   * for apps to update their own precomputations.\n   *\n   * The new `write:app-data:jira` OAuth scope is 100% optional now, and not using it won't break your app. However, we\n   * recommend adding it to your app's scope list because we will eventually make it mandatory.\n   */\n  async updatePrecomputations<T = void>(parameters: Parameters.UpdatePrecomputations, callback?: never): Promise<T>;\n  async updatePrecomputations<T = void>(\n    parameters: Parameters.UpdatePrecomputations,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/api/3/jql/function/computation',\n      method: 'POST',\n      params: {\n        skipNotFoundPrecomputations: parameters.skipNotFoundPrecomputations,\n      },\n      data: {\n        values: parameters.values,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Returns function precomputations by IDs, along with information about when they were created, updated, and last\n   * used. Each precomputation has a `value` - the JQL fragment to replace the custom function clause with.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** This\n   * API is only accessible to apps and apps can only inspect their own functions.\n   *\n   * The new `read:app-data:jira` OAuth scope is 100% optional now, and not using it won't break your app. However, we\n   * recommend adding it to your app's scope list because we will eventually make it mandatory.\n   */\n  async getPrecomputationsByID<T = Models.JqlFunctionPrecomputationGetByIdResponse>(\n    parameters: Parameters.GetPrecomputationsByID,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Returns function precomputations by IDs, along with information about when they were created, updated, and last\n   * used. Each precomputation has a `value` - the JQL fragment to replace the custom function clause with.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** This\n   * API is only accessible to apps and apps can only inspect their own functions.\n   *\n   * The new `read:app-data:jira` OAuth scope is 100% optional now, and not using it won't break your app. However, we\n   * recommend adding it to your app's scope list because we will eventually make it mandatory.\n   */\n  async getPrecomputationsByID<T = Models.JqlFunctionPrecomputationGetByIdResponse>(\n    parameters: Parameters.GetPrecomputationsByID,\n    callback?: never,\n  ): Promise<T>;\n  async getPrecomputationsByID<T = Models.JqlFunctionPrecomputationGetByIdResponse>(\n    parameters: Parameters.GetPrecomputationsByID,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/api/3/jql/function/computation/search',\n      method: 'POST',\n      params: {\n        orderBy: parameters.orderBy,\n      },\n      data: {\n        precomputationIDs: parameters.precomputationIDs,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n}\n"],"names":[],"mappings":";;MAMa,gBAAgB,CAAA;AACP,IAAA,MAAA;AAApB,IAAA,WAAA,CAAoB,MAAc,EAAA;QAAd,IAAA,CAAA,MAAM,GAAN,MAAM;IAAW;AA8BrC,IAAA,MAAM,kBAAkB,CACtB,UAA0C,EAC1C,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,sCAAsC;AAC3C,YAAA,MAAM,EAAE,KAAK;AACb,YAAA,MAAM,EAAE;gBACN,WAAW,EAAE,UAAU,EAAE,WAAW;gBACpC,OAAO,EAAE,UAAU,EAAE,OAAO;gBAC5B,UAAU,EAAE,UAAU,EAAE,UAAU;gBAClC,OAAO,EAAE,UAAU,EAAE,OAAO;gBAC5B,MAAM,EAAE,UAAU,EAAE,MAAM;AAC3B,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AAyBA,IAAA,MAAM,qBAAqB,CACzB,UAA4C,EAC5C,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,sCAAsC;AAC3C,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,MAAM,EAAE;gBACN,2BAA2B,EAAE,UAAU,CAAC,2BAA2B;AACpE,aAAA;AACD,YAAA,IAAI,EAAE;gBACJ,MAAM,EAAE,UAAU,CAAC,MAAM;AAC1B,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AA8BA,IAAA,MAAM,sBAAsB,CAC1B,UAA6C,EAC7C,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,6CAA6C;AAClD,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,MAAM,EAAE;gBACN,OAAO,EAAE,UAAU,CAAC,OAAO;AAC5B,aAAA;AACD,YAAA,IAAI,EAAE;gBACJ,iBAAiB,EAAE,UAAU,CAAC,iBAAiB;AAChD,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AACD;;;;"}