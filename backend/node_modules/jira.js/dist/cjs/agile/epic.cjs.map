{"version":3,"file":"epic.cjs","sources":["../../../../src/agile/epic.ts"],"sourcesContent":["import type * as Models from './models';\nimport type * as Parameters from './parameters';\nimport type { Client } from '../clients';\nimport type { Callback } from '../callback';\nimport type { RequestConfig } from '../requestConfig';\n\nexport class Epic {\n  constructor(private client: Client) {}\n\n  /**\n   * Returns all issues that do not belong to any epic. This only includes issues that the user has permission to view.\n   * Issues returned from this resource include Agile fields, like sprint, closedSprints, flagged, and epic. By default,\n   * the returned issues are ordered by rank. **Note:** If you are querying a next-gen project, do not use this\n   * operation. Instead, search for issues that don't belong to an epic by using the [Search for issues using\n   * JQL](https://developer.atlassian.com/cloud/jira/platform/rest/v2/#api-rest-api-2-search-get) operation in the Jira\n   * platform REST API. Build your JQL query using the `parent is empty` clause. For more information on the `parent`\n   * JQL field, see [Advanced\n   * searching](https://confluence.atlassian.com/x/dAiiLQ#Advancedsearching-fieldsreference-Parent).\n   */\n  async getIssuesWithoutEpic<T = unknown>(\n    parameters: Parameters.GetIssuesWithoutEpic | undefined,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Returns all issues that do not belong to any epic. This only includes issues that the user has permission to view.\n   * Issues returned from this resource include Agile fields, like sprint, closedSprints, flagged, and epic. By default,\n   * the returned issues are ordered by rank. **Note:** If you are querying a next-gen project, do not use this\n   * operation. Instead, search for issues that don't belong to an epic by using the [Search for issues using\n   * JQL](https://developer.atlassian.com/cloud/jira/platform/rest/v2/#api-rest-api-2-search-get) operation in the Jira\n   * platform REST API. Build your JQL query using the `parent is empty` clause. For more information on the `parent`\n   * JQL field, see [Advanced\n   * searching](https://confluence.atlassian.com/x/dAiiLQ#Advancedsearching-fieldsreference-Parent).\n   */\n  async getIssuesWithoutEpic<T = unknown>(parameters?: Parameters.GetIssuesWithoutEpic, callback?: never): Promise<T>;\n  async getIssuesWithoutEpic<T = unknown>(\n    parameters?: Parameters.GetIssuesWithoutEpic,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/agile/1.0/epic/none/issue',\n      method: 'GET',\n      params: {\n        startAt: parameters?.startAt,\n        maxResults: parameters?.maxResults,\n        jql: parameters?.jql,\n        validateQuery: parameters?.validateQuery,\n        fields: parameters?.fields,\n        expand: parameters?.expand,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Removes issues from epics. The user needs to have the edit issue permission for all issue they want to remove from\n   * epics. The maximum number of issues that can be moved in one operation is 50. **Note:** This operation does not\n   * work for epics in next-gen projects. Instead, update the issue using `\\{ fields: \\{ parent: \\{\\} \\} \\}`\n   */\n  async removeIssuesFromEpic<T = void>(\n    parameters: Parameters.RemoveIssuesFromEpic | undefined,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Removes issues from epics. The user needs to have the edit issue permission for all issue they want to remove from\n   * epics. The maximum number of issues that can be moved in one operation is 50. **Note:** This operation does not\n   * work for epics in next-gen projects. Instead, update the issue using `\\{ fields: \\{ parent: \\{\\} \\} \\}`\n   */\n  async removeIssuesFromEpic<T = void>(parameters?: Parameters.RemoveIssuesFromEpic, callback?: never): Promise<T>;\n  async removeIssuesFromEpic<T = void>(\n    parameters?: Parameters.RemoveIssuesFromEpic,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/agile/1.0/epic/none/issue',\n      method: 'POST',\n      data: {\n        issues: parameters?.issues,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Returns the epic for a given epic ID. This epic will only be returned if the user has permission to view it.\n   * **Note:** This operation does not work for epics in next-gen projects.\n   */\n  async getEpic<T = Models.Epic>(parameters: Parameters.GetEpic, callback: Callback<T>): Promise<void>;\n  /**\n   * Returns the epic for a given epic ID. This epic will only be returned if the user has permission to view it.\n   * **Note:** This operation does not work for epics in next-gen projects.\n   */\n  async getEpic<T = Models.Epic>(parameters: Parameters.GetEpic, callback?: never): Promise<T>;\n  async getEpic<T = Models.Epic>(parameters: Parameters.GetEpic, callback?: Callback<T>): Promise<void | T> {\n    const config: RequestConfig = {\n      url: `/rest/agile/1.0/epic/${parameters.epicIdOrKey}`,\n      method: 'GET',\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Performs a partial update of the epic. A partial update means that fields not present in the request JSON will not\n   * be updated. Valid values for color are `color_1` to `color_9`. **Note:** This operation does not work for epics in\n   * next-gen projects.\n   */\n  async partiallyUpdateEpic<T = Models.Epic>(\n    parameters: Parameters.PartiallyUpdateEpic,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Performs a partial update of the epic. A partial update means that fields not present in the request JSON will not\n   * be updated. Valid values for color are `color_1` to `color_9`. **Note:** This operation does not work for epics in\n   * next-gen projects.\n   */\n  async partiallyUpdateEpic<T = Models.Epic>(parameters: Parameters.PartiallyUpdateEpic, callback?: never): Promise<T>;\n  async partiallyUpdateEpic<T = Models.Epic>(\n    parameters: Parameters.PartiallyUpdateEpic,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: `/rest/agile/1.0/epic/${parameters.epicIdOrKey}`,\n      method: 'POST',\n      data: {\n        color: parameters.color,\n        done: parameters.done,\n        name: parameters.name,\n        summary: parameters.summary,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Returns all issues that belong to the epic, for the given epic ID. This only includes issues that the user has\n   * permission to view. Issues returned from this resource include Agile fields, like sprint, closedSprints, flagged,\n   * and epic. By default, the returned issues are ordered by rank. **Note:** If you are querying a next-gen project, do\n   * not use this operation. Instead, search for issues that belong to an epic by using the [Search for issues using\n   * JQL](https://developer.atlassian.com/cloud/jira/platform/rest/v2/#api-rest-api-2-search-get) operation in the Jira\n   * platform REST API. Build your JQL query using the `parent` clause. For more information on the `parent` JQL field,\n   * see [Advanced searching](https://confluence.atlassian.com/x/dAiiLQ#Advancedsearching-fieldsreference-Parent).\n   */\n  async getIssuesForEpic<T = unknown>(parameters: Parameters.GetIssuesForEpic, callback: Callback<T>): Promise<void>;\n  /**\n   * Returns all issues that belong to the epic, for the given epic ID. This only includes issues that the user has\n   * permission to view. Issues returned from this resource include Agile fields, like sprint, closedSprints, flagged,\n   * and epic. By default, the returned issues are ordered by rank. **Note:** If you are querying a next-gen project, do\n   * not use this operation. Instead, search for issues that belong to an epic by using the [Search for issues using\n   * JQL](https://developer.atlassian.com/cloud/jira/platform/rest/v2/#api-rest-api-2-search-get) operation in the Jira\n   * platform REST API. Build your JQL query using the `parent` clause. For more information on the `parent` JQL field,\n   * see [Advanced searching](https://confluence.atlassian.com/x/dAiiLQ#Advancedsearching-fieldsreference-Parent).\n   */\n  async getIssuesForEpic<T = unknown>(parameters: Parameters.GetIssuesForEpic, callback?: never): Promise<T>;\n  async getIssuesForEpic<T = unknown>(\n    parameters: Parameters.GetIssuesForEpic,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: `/rest/agile/1.0/epic/${parameters.epicIdOrKey}/issue`,\n      method: 'GET',\n      params: {\n        startAt: parameters.startAt,\n        maxResults: parameters.maxResults,\n        jql: parameters.jql,\n        validateQuery: parameters.validateQuery,\n        fields: parameters.fields,\n        expand: parameters.expand,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Moves issues to an epic, for a given epic id. Issues can be only in a single epic at the same time. That means that\n   * already assigned issues to an epic, will not be assigned to the previous epic anymore. The user needs to have the\n   * edit issue permission for all issue they want to move and to the epic. The maximum number of issues that can be\n   * moved in one operation is 50. **Note:** This operation does not work for epics in next-gen projects.\n   */\n  async moveIssuesToEpic<T = void>(parameters: Parameters.MoveIssuesToEpic, callback: Callback<T>): Promise<void>;\n  /**\n   * Moves issues to an epic, for a given epic id. Issues can be only in a single epic at the same time. That means that\n   * already assigned issues to an epic, will not be assigned to the previous epic anymore. The user needs to have the\n   * edit issue permission for all issue they want to move and to the epic. The maximum number of issues that can be\n   * moved in one operation is 50. **Note:** This operation does not work for epics in next-gen projects.\n   */\n  async moveIssuesToEpic<T = void>(parameters: Parameters.MoveIssuesToEpic, callback?: never): Promise<T>;\n  async moveIssuesToEpic<T = void>(parameters: Parameters.MoveIssuesToEpic, callback?: Callback<T>): Promise<void | T> {\n    const config: RequestConfig = {\n      url: `/rest/agile/1.0/epic/${parameters.epicIdOrKey}/issue`,\n      method: 'POST',\n      data: {\n        issues: parameters.issues,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Moves (ranks) an epic before or after a given epic.\n   *\n   * If rankCustomFieldId is not defined, the default rank field will be used.\n   *\n   * **Note:** This operation does not work for epics in next-gen projects.\n   */\n  async rankEpics<T = void>(parameters: Parameters.RankEpics, callback: Callback<T>): Promise<void>;\n  /**\n   * Moves (ranks) an epic before or after a given epic.\n   *\n   * If rankCustomFieldId is not defined, the default rank field will be used.\n   *\n   * **Note:** This operation does not work for epics in next-gen projects.\n   */\n  async rankEpics<T = void>(parameters: Parameters.RankEpics, callback?: never): Promise<T>;\n  async rankEpics<T = void>(parameters: Parameters.RankEpics, callback?: Callback<T>): Promise<void | T> {\n    const config: RequestConfig = {\n      url: `/rest/agile/1.0/epic/${parameters.epicIdOrKey}/rank`,\n      method: 'PUT',\n      data: {\n        rankAfterEpic: parameters.rankAfterEpic,\n        rankBeforeEpic: parameters.rankBeforeEpic,\n        rankCustomFieldId: parameters.rankCustomFieldId,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n}\n"],"names":[],"mappings":"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"}