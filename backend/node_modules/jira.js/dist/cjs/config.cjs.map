{"version":3,"file":"config.cjs","sources":["../../../src/config.ts"],"sourcesContent":["import { z } from 'zod';\nimport type { AxiosError } from 'axios';\nimport type { HttpException } from './clients';\n\n// Authentication schemas\n// const JWTSchema = z.object({\n//   issuer: z.string(),\n//   secret: z.string(),\n//   expiryTimeSeconds: z.number().optional()\n// });\n\nexport const BasicAuthSchema = z\n  .object({\n    email: z.string(),\n    apiToken: z.string(),\n  })\n  .strict();\n\nexport type BasicAuth = z.infer<typeof BasicAuthSchema>;\n\nexport const OAuth2Schema = z\n  .object({\n    accessToken: z.string(),\n  })\n  .strict();\n\nexport type OAuth2 = z.infer<typeof OAuth2Schema>;\n\n// Middlewares schemas\nexport const MiddlewaresSchema = z\n  .object({\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onError: z.optional(z.any()) as any,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onResponse: z.optional(z.any()) as any,\n  })\n  .strict();\n\nexport type Middlewares = z.infer<typeof MiddlewaresSchema>;\n\nexport const ConfigSchema = z\n  .object({\n    host: z.string().url(),\n    strictGDPR: z.boolean().optional(),\n    /** Adds `'X-Atlassian-Token': 'no-check'` to each request header */\n    noCheckAtlassianToken: z.boolean().optional(),\n    baseRequestConfig: z.any().optional(),\n    authentication: z.union([z.object({ basic: BasicAuthSchema }), z.object({ oauth2: OAuth2Schema })]).optional(),\n    middlewares: MiddlewaresSchema.optional(),\n  })\n  .strict();\n\nexport type Config = z.infer<typeof ConfigSchema>;\n\nexport type JiraError = AxiosError | HttpException;\n"],"names":["z"],"mappings":";;;;AAIA;AACA;AACA;AACA;AACA;AACA;AAEO,MAAM,eAAe,GAAGA;AAC5B,KAAA,MAAM,CAAC;AACN,IAAA,KAAK,EAAEA,KAAC,CAAC,MAAM,EAAE;AACjB,IAAA,QAAQ,EAAEA,KAAC,CAAC,MAAM,EAAE;CACrB;AACA,KAAA,MAAM;AAIF,MAAM,YAAY,GAAGA;AACzB,KAAA,MAAM,CAAC;AACN,IAAA,WAAW,EAAEA,KAAC,CAAC,MAAM,EAAE;CACxB;AACA,KAAA,MAAM;AAIT;AACO,MAAM,iBAAiB,GAAGA;AAC9B,KAAA,MAAM,CAAC;;IAEN,OAAO,EAAEA,KAAC,CAAC,QAAQ,CAACA,KAAC,CAAC,GAAG,EAAE,CAAQ;;IAEnC,UAAU,EAAEA,KAAC,CAAC,QAAQ,CAACA,KAAC,CAAC,GAAG,EAAE,CAAQ;CACvC;AACA,KAAA,MAAM;AAIF,MAAM,YAAY,GAAGA;AACzB,KAAA,MAAM,CAAC;AACN,IAAA,IAAI,EAAEA,KAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE;AACtB,IAAA,UAAU,EAAEA,KAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;;AAElC,IAAA,qBAAqB,EAAEA,KAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;AAC7C,IAAA,iBAAiB,EAAEA,KAAC,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE;AACrC,IAAA,cAAc,EAAEA,KAAC,CAAC,KAAK,CAAC,CAACA,KAAC,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,eAAe,EAAE,CAAC,EAAEA,KAAC,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;AAC9G,IAAA,WAAW,EAAE,iBAAiB,CAAC,QAAQ,EAAE;CAC1C;AACA,KAAA,MAAM;;;;;;;"}