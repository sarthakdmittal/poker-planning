{"version":3,"file":"issueVotes.cjs","sources":["../../../../src/version2/issueVotes.ts"],"sourcesContent":["import type * as Models from './models';\nimport type * as Parameters from './parameters';\nimport type { Client } from '../clients';\nimport type { Callback } from '../callback';\nimport type { RequestConfig } from '../requestConfig';\n\nexport class IssueVotes {\n  constructor(private client: Client) {}\n\n  /**\n   * Returns details about the votes on an issue.\n   *\n   * This operation requires the **Allow users to vote on issues** option to be _ON_. This option is set in General\n   * configuration for Jira. See [Configuring Jira application options](https://confluence.atlassian.com/x/uYXKM) for\n   * details.\n   *\n   * This operation can be accessed anonymously.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:**\n   *\n   * - _Browse projects_ [project permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is\n   *   ini\n   * - If [issue-level security](https://confluence.atlassian.com/x/J4lKLg) is configured, issue-level security permission\n   *   to view the issue.\n   *\n   * Note that users with the necessary permissions for this operation but without the _View voters and watchers_\n   * project permissions are not returned details in the `voters` field.\n   */\n  async getVotes<T = Models.Votes>(parameters: Parameters.GetVotes | string, callback: Callback<T>): Promise<void>;\n  /**\n   * Returns details about the votes on an issue.\n   *\n   * This operation requires the **Allow users to vote on issues** option to be _ON_. This option is set in General\n   * configuration for Jira. See [Configuring Jira application options](https://confluence.atlassian.com/x/uYXKM) for\n   * details.\n   *\n   * This operation can be accessed anonymously.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:**\n   *\n   * - _Browse projects_ [project permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is\n   *   ini\n   * - If [issue-level security](https://confluence.atlassian.com/x/J4lKLg) is configured, issue-level security permission\n   *   to view the issue.\n   *\n   * Note that users with the necessary permissions for this operation but without the _View voters and watchers_\n   * project permissions are not returned details in the `voters` field.\n   */\n  async getVotes<T = Models.Votes>(parameters: Parameters.GetVotes | string, callback?: never): Promise<T>;\n  async getVotes<T = Models.Votes>(\n    parameters: Parameters.GetVotes | string,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const issueIdOrKey = typeof parameters === 'string' ? parameters : parameters.issueIdOrKey;\n\n    const config: RequestConfig = {\n      url: `/rest/api/2/issue/${issueIdOrKey}/votes`,\n      method: 'GET',\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Adds the user's vote to an issue. This is the equivalent of the user clicking _Vote_ on an issue in Jira.\n   *\n   * This operation requires the **Allow users to vote on issues** option to be _ON_. This option is set in General\n   * configuration for Jira. See [Configuring Jira application options](https://confluence.atlassian.com/x/uYXKM) for\n   * details.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:**\n   *\n   * - _Browse projects_ [project permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is\n   *   in.\n   * - If [issue-level security](https://confluence.atlassian.com/x/J4lKLg) is configured, issue-level security permission\n   *   to view the issue.\n   */\n  async addVote<T = void>(parameters: Parameters.AddVote | string, callback: Callback<T>): Promise<void>;\n  /**\n   * Adds the user's vote to an issue. This is the equivalent of the user clicking _Vote_ on an issue in Jira.\n   *\n   * This operation requires the **Allow users to vote on issues** option to be _ON_. This option is set in General\n   * configuration for Jira. See [Configuring Jira application options](https://confluence.atlassian.com/x/uYXKM) for\n   * details.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:**\n   *\n   * - _Browse projects_ [project permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is\n   *   in.\n   * - If [issue-level security](https://confluence.atlassian.com/x/J4lKLg) is configured, issue-level security permission\n   *   to view the issue.\n   */\n  async addVote<T = void>(parameters: Parameters.AddVote | string, callback?: never): Promise<T>;\n  async addVote<T = void>(parameters: Parameters.AddVote | string, callback?: Callback<T>): Promise<void | T> {\n    const issueIdOrKey = typeof parameters === 'string' ? parameters : parameters.issueIdOrKey;\n\n    const config: RequestConfig = {\n      url: `/rest/api/2/issue/${issueIdOrKey}/votes`,\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Deletes a user's vote from an issue. This is the equivalent of the user clicking _Unvote_ on an issue in Jira.\n   *\n   * This operation requires the **Allow users to vote on issues** option to be _ON_. This option is set in General\n   * configuration for Jira. See [Configuring Jira application options](https://confluence.atlassian.com/x/uYXKM) for\n   * details.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:**\n   *\n   * - _Browse projects_ [project permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is\n   *   in.\n   * - If [issue-level security](https://confluence.atlassian.com/x/J4lKLg) is configured, issue-level security permission\n   *   to view the issue.\n   */\n  async removeVote<T = void>(parameters: Parameters.RemoveVote | string, callback: Callback<T>): Promise<void>;\n  /**\n   * Deletes a user's vote from an issue. This is the equivalent of the user clicking _Unvote_ on an issue in Jira.\n   *\n   * This operation requires the **Allow users to vote on issues** option to be _ON_. This option is set in General\n   * configuration for Jira. See [Configuring Jira application options](https://confluence.atlassian.com/x/uYXKM) for\n   * details.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:**\n   *\n   * - _Browse projects_ [project permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is\n   *   in.\n   * - If [issue-level security](https://confluence.atlassian.com/x/J4lKLg) is configured, issue-level security permission\n   *   to view the issue.\n   */\n  async removeVote<T = void>(parameters: Parameters.RemoveVote | string, callback?: never): Promise<T>;\n  async removeVote<T = void>(parameters: Parameters.RemoveVote | string, callback?: Callback<T>): Promise<void | T> {\n    const issueIdOrKey = typeof parameters === 'string' ? parameters : parameters.issueIdOrKey;\n\n    const config: RequestConfig = {\n      url: `/rest/api/2/issue/${issueIdOrKey}/votes`,\n      method: 'DELETE',\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n}\n"],"names":[],"mappings":";;MAMa,UAAU,CAAA;AACD,IAAA,MAAA;AAApB,IAAA,WAAA,CAAoB,MAAc,EAAA;QAAd,IAAA,CAAA,MAAM,GAAN,MAAM;IAAW;AA0CrC,IAAA,MAAM,QAAQ,CACZ,UAAwC,EACxC,QAAsB,EAAA;AAEtB,QAAA,MAAM,YAAY,GAAG,OAAO,UAAU,KAAK,QAAQ,GAAG,UAAU,GAAG,UAAU,CAAC,YAAY;AAE1F,QAAA,MAAM,MAAM,GAAkB;YAC5B,GAAG,EAAE,CAAA,kBAAA,EAAqB,YAAY,CAAA,MAAA,CAAQ;AAC9C,YAAA,MAAM,EAAE,KAAK;SACd;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AAgCA,IAAA,MAAM,OAAO,CAAW,UAAuC,EAAE,QAAsB,EAAA;AACrF,QAAA,MAAM,YAAY,GAAG,OAAO,UAAU,KAAK,QAAQ,GAAG,UAAU,GAAG,UAAU,CAAC,YAAY;AAE1F,QAAA,MAAM,MAAM,GAAkB;YAC5B,GAAG,EAAE,CAAA,kBAAA,EAAqB,YAAY,CAAA,MAAA,CAAQ;AAC9C,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,OAAO,EAAE;AACP,gBAAA,cAAc,EAAE,kBAAkB;AACnC,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AAgCA,IAAA,MAAM,UAAU,CAAW,UAA0C,EAAE,QAAsB,EAAA;AAC3F,QAAA,MAAM,YAAY,GAAG,OAAO,UAAU,KAAK,QAAQ,GAAG,UAAU,GAAG,UAAU,CAAC,YAAY;AAE1F,QAAA,MAAM,MAAM,GAAkB;YAC5B,GAAG,EAAE,CAAA,kBAAA,EAAqB,YAAY,CAAA,MAAA,CAAQ;AAC9C,YAAA,MAAM,EAAE,QAAQ;SACjB;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AACD;;;;"}