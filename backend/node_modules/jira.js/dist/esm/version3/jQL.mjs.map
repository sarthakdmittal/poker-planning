{"version":3,"file":"jQL.mjs","sources":["../../../../src/version3/jQL.ts"],"sourcesContent":["import type * as Models from './models';\nimport type * as Parameters from './parameters';\nimport type { Client } from '../clients';\nimport type { Callback } from '../callback';\nimport type { RequestConfig } from '../requestConfig';\n\nexport class JQL {\n  constructor(private client: Client) {}\n\n  /**\n   * Returns reference data for JQL searches. This is a downloadable version of the documentation provided in [Advanced\n   * searching - fields reference](https://confluence.atlassian.com/x/gwORLQ) and [Advanced searching - functions\n   * reference](https://confluence.atlassian.com/x/hgORLQ), along with a list of JQL-reserved words. Use this\n   * information to assist with the programmatic creation of JQL queries or the validation of queries built in a custom\n   * query builder.\n   *\n   * To filter visible field details by project or collapse non-unique fields by field type then [Get field reference\n   * data (POST)](#api-rest-api-3-jql-autocompletedata-post) can be used.\n   *\n   * This operation can be accessed anonymously.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** None.\n   */\n  async getAutoComplete<T = Models.JQLReferenceData>(callback: Callback<T>): Promise<void>;\n  /**\n   * Returns reference data for JQL searches. This is a downloadable version of the documentation provided in [Advanced\n   * searching - fields reference](https://confluence.atlassian.com/x/gwORLQ) and [Advanced searching - functions\n   * reference](https://confluence.atlassian.com/x/hgORLQ), along with a list of JQL-reserved words. Use this\n   * information to assist with the programmatic creation of JQL queries or the validation of queries built in a custom\n   * query builder.\n   *\n   * To filter visible field details by project or collapse non-unique fields by field type then [Get field reference\n   * data (POST)](#api-rest-api-3-jql-autocompletedata-post) can be used.\n   *\n   * This operation can be accessed anonymously.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** None.\n   */\n  async getAutoComplete<T = Models.JQLReferenceData>(callback?: never): Promise<T>;\n  async getAutoComplete<T = Models.JQLReferenceData>(callback?: Callback<T>): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/api/3/jql/autocompletedata',\n      method: 'GET',\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Returns reference data for JQL searches. This is a downloadable version of the documentation provided in [Advanced\n   * searching - fields reference](https://confluence.atlassian.com/x/gwORLQ) and [Advanced searching - functions\n   * reference](https://confluence.atlassian.com/x/hgORLQ), along with a list of JQL-reserved words. Use this\n   * information to assist with the programmatic creation of JQL queries or the validation of queries built in a custom\n   * query builder.\n   *\n   * This operation can filter the custom fields returned by project. Invalid project IDs in `projectIds` are ignored.\n   * System fields are always returned.\n   *\n   * It can also return the collapsed field for custom fields. Collapsed fields enable searches to be performed across\n   * all fields with the same name and of the same field type. For example, the collapsed field `Component -\n   * Component[Dropdown]` enables dropdown fields `Component - cf[10061]` and `Component - cf[10062]` to be searched\n   * simultaneously.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** None.\n   */\n  async getAutoCompletePost<T = Models.JQLReferenceData>(\n    parameters: Parameters.GetAutoCompletePost | undefined,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Returns reference data for JQL searches. This is a downloadable version of the documentation provided in [Advanced\n   * searching - fields reference](https://confluence.atlassian.com/x/gwORLQ) and [Advanced searching - functions\n   * reference](https://confluence.atlassian.com/x/hgORLQ), along with a list of JQL-reserved words. Use this\n   * information to assist with the programmatic creation of JQL queries or the validation of queries built in a custom\n   * query builder.\n   *\n   * This operation can filter the custom fields returned by project. Invalid project IDs in `projectIds` are ignored.\n   * System fields are always returned.\n   *\n   * It can also return the collapsed field for custom fields. Collapsed fields enable searches to be performed across\n   * all fields with the same name and of the same field type. For example, the collapsed field `Component -\n   * Component[Dropdown]` enables dropdown fields `Component - cf[10061]` and `Component - cf[10062]` to be searched\n   * simultaneously.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** None.\n   */\n  async getAutoCompletePost<T = Models.JQLReferenceData>(\n    parameters?: Parameters.GetAutoCompletePost,\n    callback?: never,\n  ): Promise<T>;\n  async getAutoCompletePost<T = Models.JQLReferenceData>(\n    parameters?: Parameters.GetAutoCompletePost,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/api/3/jql/autocompletedata',\n      method: 'POST',\n      data: {\n        includeCollapsedFields: parameters?.includeCollapsedFields,\n        projectIds: parameters?.projectIds,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Returns the JQL search auto complete suggestions for a field.\n   *\n   * Suggestions can be obtained by providing:\n   *\n   * - `fieldName` to get a list of all values for the field.\n   * - `fieldName` and `fieldValue` to get a list of values containing the text in `fieldValue`.\n   * - `fieldName` and `predicateName` to get a list of all predicate values for the field.\n   * - `fieldName`, `predicateName`, and `predicateValue` to get a list of predicate values containing the text in\n   *   `predicateValue`.\n   *\n   * This operation can be accessed anonymously.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** None.\n   */\n  async getFieldAutoCompleteForQueryString<T = Models.AutoCompleteSuggestions>(\n    parameters: Parameters.GetFieldAutoCompleteForQueryString | undefined,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Returns the JQL search auto complete suggestions for a field.\n   *\n   * Suggestions can be obtained by providing:\n   *\n   * - `fieldName` to get a list of all values for the field.\n   * - `fieldName` and `fieldValue` to get a list of values containing the text in `fieldValue`.\n   * - `fieldName` and `predicateName` to get a list of all predicate values for the field.\n   * - `fieldName`, `predicateName`, and `predicateValue` to get a list of predicate values containing the text in\n   *   `predicateValue`.\n   *\n   * This operation can be accessed anonymously.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** None.\n   */\n  async getFieldAutoCompleteForQueryString<T = Models.AutoCompleteSuggestions>(\n    parameters?: Parameters.GetFieldAutoCompleteForQueryString,\n    callback?: never,\n  ): Promise<T>;\n  async getFieldAutoCompleteForQueryString<T = Models.AutoCompleteSuggestions>(\n    parameters?: Parameters.GetFieldAutoCompleteForQueryString,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/api/3/jql/autocompletedata/suggestions',\n      method: 'GET',\n      params: {\n        fieldName: parameters?.fieldName,\n        fieldValue: parameters?.fieldValue,\n        predicateName: parameters?.predicateName,\n        predicateValue: parameters?.predicateValue,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Parses and validates JQL queries.\n   *\n   * Validation is performed in context of the current user.\n   *\n   * This operation can be accessed anonymously.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** None.\n   */\n  async parseJqlQueries<T = Models.ParsedJqlQueries>(\n    parameters: Parameters.ParseJqlQueries,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Parses and validates JQL queries.\n   *\n   * Validation is performed in context of the current user.\n   *\n   * This operation can be accessed anonymously.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** None.\n   */\n  async parseJqlQueries<T = Models.ParsedJqlQueries>(\n    parameters: Parameters.ParseJqlQueries,\n    callback?: never,\n  ): Promise<T>;\n  async parseJqlQueries<T = Models.ParsedJqlQueries>(\n    parameters: Parameters.ParseJqlQueries,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/api/3/jql/parse',\n      method: 'POST',\n      params: {\n        validation: parameters.validation,\n      },\n      data: {\n        queries: parameters.queries,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Converts one or more JQL queries with user identifiers (username or user key) to equivalent JQL queries with\n   * account IDs.\n   *\n   * You may wish to use this operation if your system stores JQL queries and you want to make them GDPR-compliant. For\n   * more information about GDPR-related changes, see the [migration\n   * guide](https://developer.atlassian.com/cloud/jira/platform/deprecation-notice-user-privacy-api-migration-guide/).\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:**\n   * Permission to access Jira.\n   */\n  async migrateQueries<T = Models.ConvertedJQLQueries>(\n    parameters: Parameters.MigrateQueries | undefined,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Converts one or more JQL queries with user identifiers (username or user key) to equivalent JQL queries with\n   * account IDs.\n   *\n   * You may wish to use this operation if your system stores JQL queries and you want to make them GDPR-compliant. For\n   * more information about GDPR-related changes, see the [migration\n   * guide](https://developer.atlassian.com/cloud/jira/platform/deprecation-notice-user-privacy-api-migration-guide/).\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:**\n   * Permission to access Jira.\n   */\n  async migrateQueries<T = Models.ConvertedJQLQueries>(\n    parameters?: Parameters.MigrateQueries,\n    callback?: never,\n  ): Promise<T>;\n  async migrateQueries<T = Models.ConvertedJQLQueries>(\n    parameters?: Parameters.MigrateQueries,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/api/3/jql/pdcleaner',\n      method: 'POST',\n      data: {\n        queryStrings: parameters?.queryStrings,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Sanitizes one or more JQL queries by converting readable details into IDs where a user doesn't have permission to\n   * view the entity.\n   *\n   * For example, if the query contains the clause _project = 'Secret project'_, and a user does not have browse\n   * permission for the project \"Secret project\", the sanitized query replaces the clause with _project = 12345\"_ (where\n   * 12345 is the ID of the project). If a user has the required permission, the clause is not sanitized. If the account\n   * ID is null, sanitizing is performed for an anonymous user.\n   *\n   * Note that sanitization doesn't make the queries GDPR-compliant, because it doesn't remove user identifiers\n   * (username or user key). If you need to make queries GDPR-compliant, use [Convert user identifiers to account IDs in\n   * JQL\n   * queries](https://developer.atlassian.com/cloud/jira/platform/rest/v3/api-group-jql/#api-rest-api-3-jql-sanitize-post).\n   *\n   * Before sanitization each JQL query is parsed. The queries are returned in the same order that they were passed.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:**\n   * _Administer Jira_ [global permission](https://confluence.atlassian.com/x/x4dKLg).\n   */\n  async sanitiseJqlQueries<T = Models.SanitizedJqlQueries>(\n    parameters: Parameters.SanitiseJqlQueries | undefined,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Sanitizes one or more JQL queries by converting readable details into IDs where a user doesn't have permission to\n   * view the entity.\n   *\n   * For example, if the query contains the clause _project = 'Secret project'_, and a user does not have browse\n   * permission for the project \"Secret project\", the sanitized query replaces the clause with _project = 12345\"_ (where\n   * 12345 is the ID of the project). If a user has the required permission, the clause is not sanitized. If the account\n   * ID is null, sanitizing is performed for an anonymous user.\n   *\n   * Note that sanitization doesn't make the queries GDPR-compliant, because it doesn't remove user identifiers\n   * (username or user key). If you need to make queries GDPR-compliant, use [Convert user identifiers to account IDs in\n   * JQL\n   * queries](https://developer.atlassian.com/cloud/jira/platform/rest/v3/api-group-jql/#api-rest-api-3-jql-sanitize-post).\n   *\n   * Before sanitization each JQL query is parsed. The queries are returned in the same order that they were passed.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:**\n   * _Administer Jira_ [global permission](https://confluence.atlassian.com/x/x4dKLg).\n   */\n  async sanitiseJqlQueries<T = Models.SanitizedJqlQueries>(\n    parameters?: Parameters.SanitiseJqlQueries,\n    callback?: never,\n  ): Promise<T>;\n  async sanitiseJqlQueries<T = Models.SanitizedJqlQueries>(\n    parameters?: Parameters.SanitiseJqlQueries,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/api/3/jql/sanitize',\n      method: 'POST',\n      data: {\n        queries: parameters?.queries,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n}\n"],"names":[],"mappings":"MAMa,GAAG,CAAA;AACM,IAAA,MAAA;AAApB,IAAA,WAAA,CAAoB,MAAc,EAAA;QAAd,IAAA,CAAA,MAAM,GAAN,MAAM;IAAW;IAgCrC,MAAM,eAAe,CAA8B,QAAsB,EAAA;AACvE,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,kCAAkC;AACvC,YAAA,MAAM,EAAE,KAAK;SACd;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AA4CA,IAAA,MAAM,mBAAmB,CACvB,UAA2C,EAC3C,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,kCAAkC;AACvC,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,IAAI,EAAE;gBACJ,sBAAsB,EAAE,UAAU,EAAE,sBAAsB;gBAC1D,UAAU,EAAE,UAAU,EAAE,UAAU;AACnC,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AAwCA,IAAA,MAAM,kCAAkC,CACtC,UAA0D,EAC1D,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,8CAA8C;AACnD,YAAA,MAAM,EAAE,KAAK;AACb,YAAA,MAAM,EAAE;gBACN,SAAS,EAAE,UAAU,EAAE,SAAS;gBAChC,UAAU,EAAE,UAAU,EAAE,UAAU;gBAClC,aAAa,EAAE,UAAU,EAAE,aAAa;gBACxC,cAAc,EAAE,UAAU,EAAE,cAAc;AAC3C,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AA4BA,IAAA,MAAM,eAAe,CACnB,UAAsC,EACtC,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,uBAAuB;AAC5B,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,MAAM,EAAE;gBACN,UAAU,EAAE,UAAU,CAAC,UAAU;AAClC,aAAA;AACD,YAAA,IAAI,EAAE;gBACJ,OAAO,EAAE,UAAU,CAAC,OAAO;AAC5B,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AAgCA,IAAA,MAAM,cAAc,CAClB,UAAsC,EACtC,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,2BAA2B;AAChC,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,IAAI,EAAE;gBACJ,YAAY,EAAE,UAAU,EAAE,YAAY;AACvC,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AAgDA,IAAA,MAAM,kBAAkB,CACtB,UAA0C,EAC1C,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,0BAA0B;AAC/B,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,IAAI,EAAE;gBACJ,OAAO,EAAE,UAAU,EAAE,OAAO;AAC7B,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AACD;;;;"}