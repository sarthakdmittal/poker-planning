{"version":3,"file":"appMigration.mjs","sources":["../../../../src/version3/appMigration.ts"],"sourcesContent":["import type * as Models from './models';\nimport type * as Parameters from './parameters';\nimport type { Client } from '../clients';\nimport type { Callback } from '../callback';\nimport type { RequestConfig } from '../requestConfig';\n\nexport class AppMigration {\n  constructor(private client: Client) {}\n\n  /**\n   * Updates the value of a custom field added by Connect apps on one or more issues. The values of up to 200 custom\n   * fields can be updated.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** Only\n   * Connect apps can make this request\n   */\n  async updateIssueFields<T = unknown>(parameters: Parameters.UpdateIssueFields, callback: Callback<T>): Promise<void>;\n  /**\n   * Updates the value of a custom field added by Connect apps on one or more issues. The values of up to 200 custom\n   * fields can be updated.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:** Only\n   * Connect apps can make this request\n   */\n  async updateIssueFields<T = unknown>(parameters: Parameters.UpdateIssueFields, callback?: never): Promise<T>;\n  async updateIssueFields<T = unknown>(\n    parameters: Parameters.UpdateIssueFields,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/atlassian-connect/1/migration/field',\n      method: 'PUT',\n      headers: {\n        'Atlassian-Account-Id': parameters.accountId,\n        'Atlassian-Transfer-Id': parameters.transferId,\n      },\n      data: {\n        updateValueList: parameters.updateValueList,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Updates the values of multiple entity properties for an object, up to 50 updates per request. This operation is for\n   * use by Connect apps during app migration.\n   */\n  async updateEntityPropertiesValue<T = unknown>(\n    parameters: Parameters.UpdateEntityPropertiesValue,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Updates the values of multiple entity properties for an object, up to 50 updates per request. This operation is for\n   * use by Connect apps during app migration.\n   */\n  async updateEntityPropertiesValue<T = unknown>(\n    parameters: Parameters.UpdateEntityPropertiesValue,\n    callback?: never,\n  ): Promise<T>;\n  async updateEntityPropertiesValue<T = unknown>(\n    parameters: Parameters.UpdateEntityPropertiesValue,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: `/rest/atlassian-connect/1/migration/properties/${parameters.entityType}`,\n      method: 'PUT',\n      headers: {\n        'Atlassian-Account-Id': parameters.accountId,\n        'Atlassian-Transfer-Id': parameters.transferId,\n        'Content-Type': 'application/json',\n      },\n      data: parameters.entities,\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Returns configurations for workflow transition rules migrated from server to cloud and owned by the calling Connect\n   * app.\n   */\n  async workflowRuleSearch<T = Models.WorkflowRulesSearchDetails>(\n    parameters: Parameters.WorkflowRuleSearch,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Returns configurations for workflow transition rules migrated from server to cloud and owned by the calling Connect\n   * app.\n   */\n  async workflowRuleSearch<T = Models.WorkflowRulesSearchDetails>(\n    parameters: Parameters.WorkflowRuleSearch,\n    callback?: never,\n  ): Promise<T>;\n  async workflowRuleSearch<T = Models.WorkflowRulesSearchDetails>(\n    parameters: Parameters.WorkflowRuleSearch,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/atlassian-connect/1/migration/workflow/rule/search',\n      method: 'POST',\n      headers: {\n        'Atlassian-Transfer-Id': parameters.transferId,\n      },\n      data: {\n        expand: parameters.expand,\n        ruleIds: parameters.ruleIds,\n        workflowEntityId: parameters.workflowEntityId,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n}\n"],"names":[],"mappings":"MAMa,YAAY,CAAA;AACH,IAAA,MAAA;AAApB,IAAA,WAAA,CAAoB,MAAc,EAAA;QAAd,IAAA,CAAA,MAAM,GAAN,MAAM;IAAW;AAkBrC,IAAA,MAAM,iBAAiB,CACrB,UAAwC,EACxC,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,2CAA2C;AAChD,YAAA,MAAM,EAAE,KAAK;AACb,YAAA,OAAO,EAAE;gBACP,sBAAsB,EAAE,UAAU,CAAC,SAAS;gBAC5C,uBAAuB,EAAE,UAAU,CAAC,UAAU;AAC/C,aAAA;AACD,YAAA,IAAI,EAAE;gBACJ,eAAe,EAAE,UAAU,CAAC,eAAe;AAC5C,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AAkBA,IAAA,MAAM,2BAA2B,CAC/B,UAAkD,EAClD,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,CAAA,+CAAA,EAAkD,UAAU,CAAC,UAAU,CAAA,CAAE;AAC9E,YAAA,MAAM,EAAE,KAAK;AACb,YAAA,OAAO,EAAE;gBACP,sBAAsB,EAAE,UAAU,CAAC,SAAS;gBAC5C,uBAAuB,EAAE,UAAU,CAAC,UAAU;AAC9C,gBAAA,cAAc,EAAE,kBAAkB;AACnC,aAAA;YACD,IAAI,EAAE,UAAU,CAAC,QAAQ;SAC1B;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AAkBA,IAAA,MAAM,kBAAkB,CACtB,UAAyC,EACzC,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,0DAA0D;AAC/D,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,OAAO,EAAE;gBACP,uBAAuB,EAAE,UAAU,CAAC,UAAU;AAC/C,aAAA;AACD,YAAA,IAAI,EAAE;gBACJ,MAAM,EAAE,UAAU,CAAC,MAAM;gBACzB,OAAO,EAAE,UAAU,CAAC,OAAO;gBAC3B,gBAAgB,EAAE,UAAU,CAAC,gBAAgB;AAC9C,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AACD;;;;"}