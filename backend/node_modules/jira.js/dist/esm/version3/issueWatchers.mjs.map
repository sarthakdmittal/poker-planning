{"version":3,"file":"issueWatchers.mjs","sources":["../../../../src/version3/issueWatchers.ts"],"sourcesContent":["import type * as Models from './models';\nimport type * as Parameters from './parameters';\nimport type { Client } from '../clients';\nimport type { Callback } from '../callback';\nimport type { RequestConfig } from '../requestConfig';\n\nexport class IssueWatchers {\n  constructor(private client: Client) {}\n\n  /**\n   * Returns, for the user, details of the watched status of issues from a list. If an issue ID is invalid, the returned\n   * watched status is `false`.\n   *\n   * This operation requires the **Allow users to watch issues** option to be _ON_. This option is set in General\n   * configuration for Jira. See [Configuring Jira application options](https://confluence.atlassian.com/x/uYXKM) for\n   * details.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:**\n   *\n   * - _Browse projects_ [project permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is\n   *   in\n   * - If [issue-level security](https://confluence.atlassian.com/x/J4lKLg) is configured, issue-level security permission\n   *   to view the issue.\n   */\n  async getIsWatchingIssueBulk<T = Models.BulkIssueIsWatching>(\n    parameters: Parameters.GetIsWatchingIssueBulk | undefined,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Returns, for the user, details of the watched status of issues from a list. If an issue ID is invalid, the returned\n   * watched status is `false`.\n   *\n   * This operation requires the **Allow users to watch issues** option to be _ON_. This option is set in General\n   * configuration for Jira. See [Configuring Jira application options](https://confluence.atlassian.com/x/uYXKM) for\n   * details.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:**\n   *\n   * - _Browse projects_ [project permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is\n   *   in\n   * - If [issue-level security](https://confluence.atlassian.com/x/J4lKLg) is configured, issue-level security permission\n   *   to view the issue.\n   */\n  async getIsWatchingIssueBulk<T = Models.BulkIssueIsWatching>(\n    parameters?: Parameters.GetIsWatchingIssueBulk,\n    callback?: never,\n  ): Promise<T>;\n  async getIsWatchingIssueBulk<T = Models.BulkIssueIsWatching>(\n    parameters?: Parameters.GetIsWatchingIssueBulk,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/api/3/issue/watching',\n      method: 'POST',\n      data: {\n        issueIds: parameters?.issueIds,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Returns the watchers for an issue.\n   *\n   * This operation requires the **Allow users to watch issues** option to be _ON_. This option is set in General\n   * configuration for Jira. See [Configuring Jira application options](https://confluence.atlassian.com/x/uYXKM) for\n   * details.\n   *\n   * This operation can be accessed anonymously.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:**\n   *\n   * - _Browse projects_ [project permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is\n   *   ini\n   * - If [issue-level security](https://confluence.atlassian.com/x/J4lKLg) is configured, issue-level security permission\n   *   to view the issue.\n   * - To see details of users on the watchlist other than themselves, _View voters and watchers_ [project\n   *   permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is in.\n   */\n  async getIssueWatchers<T = Models.Watchers>(\n    parameters: Parameters.GetIssueWatchers,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Returns the watchers for an issue.\n   *\n   * This operation requires the **Allow users to watch issues** option to be _ON_. This option is set in General\n   * configuration for Jira. See [Configuring Jira application options](https://confluence.atlassian.com/x/uYXKM) for\n   * details.\n   *\n   * This operation can be accessed anonymously.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:**\n   *\n   * - _Browse projects_ [project permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is\n   *   ini\n   * - If [issue-level security](https://confluence.atlassian.com/x/J4lKLg) is configured, issue-level security permission\n   *   to view the issue.\n   * - To see details of users on the watchlist other than themselves, _View voters and watchers_ [project\n   *   permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is in.\n   */\n  async getIssueWatchers<T = Models.Watchers>(parameters: Parameters.GetIssueWatchers, callback?: never): Promise<T>;\n  async getIssueWatchers<T = Models.Watchers>(\n    parameters: Parameters.GetIssueWatchers,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: `/rest/api/3/issue/${parameters.issueIdOrKey}/watchers`,\n      method: 'GET',\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Adds a user as a watcher of an issue by passing the account ID of the user. For example,\n   * `\"5b10ac8d82e05b22cc7d4ef5\"`. If no user is specified the calling user is added.\n   *\n   * This operation requires the **Allow users to watch issues** option to be _ON_. This option is set in General\n   * configuration for Jira. See [Configuring Jira application options](https://confluence.atlassian.com/x/uYXKM) for\n   * details.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:**\n   *\n   * - _Browse projects_ [project permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is\n   *   in.\n   * - If [issue-level security](https://confluence.atlassian.com/x/J4lKLg) is configured, issue-level security permission\n   *   to view the issue.\n   * - To add users other than themselves to the watchlist, _Manage watcher list_ [project\n   *   permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is in.\n   */\n  async addWatcher<T = void>(parameters: Parameters.AddWatcher, callback: Callback<T>): Promise<void>;\n  /**\n   * Adds a user as a watcher of an issue by passing the account ID of the user. For example,\n   * `\"5b10ac8d82e05b22cc7d4ef5\"`. If no user is specified the calling user is added.\n   *\n   * This operation requires the **Allow users to watch issues** option to be _ON_. This option is set in General\n   * configuration for Jira. See [Configuring Jira application options](https://confluence.atlassian.com/x/uYXKM) for\n   * details.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:**\n   *\n   * - _Browse projects_ [project permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is\n   *   in.\n   * - If [issue-level security](https://confluence.atlassian.com/x/J4lKLg) is configured, issue-level security permission\n   *   to view the issue.\n   * - To add users other than themselves to the watchlist, _Manage watcher list_ [project\n   *   permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is in.\n   */\n  async addWatcher<T = void>(parameters: Parameters.AddWatcher, callback?: never): Promise<T>;\n  async addWatcher<T = void>(parameters: Parameters.AddWatcher, callback?: Callback<T>): Promise<void | T> {\n    const config: RequestConfig = {\n      url: `/rest/api/3/issue/${parameters.issueIdOrKey}/watchers`,\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      data: parameters.accountId,\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Deletes a user as a watcher of an issue.\n   *\n   * This operation requires the **Allow users to watch issues** option to be _ON_. This option is set in General\n   * configuration for Jira. See [Configuring Jira application options](https://confluence.atlassian.com/x/uYXKM) for\n   * details.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:**\n   *\n   * - _Browse projects_ [project permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is\n   *   in.\n   * - If [issue-level security](https://confluence.atlassian.com/x/J4lKLg) is configured, issue-level security permission\n   *   to view the issue.\n   * - To remove users other than themselves from the watchlist, _Manage watcher list_ [project\n   *   permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is in.\n   */\n  async removeWatcher<T = void>(parameters: Parameters.RemoveWatcher, callback: Callback<T>): Promise<void>;\n  /**\n   * Deletes a user as a watcher of an issue.\n   *\n   * This operation requires the **Allow users to watch issues** option to be _ON_. This option is set in General\n   * configuration for Jira. See [Configuring Jira application options](https://confluence.atlassian.com/x/uYXKM) for\n   * details.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v3/intro/#permissions) required:**\n   *\n   * - _Browse projects_ [project permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is\n   *   in.\n   * - If [issue-level security](https://confluence.atlassian.com/x/J4lKLg) is configured, issue-level security permission\n   *   to view the issue.\n   * - To remove users other than themselves from the watchlist, _Manage watcher list_ [project\n   *   permission](https://confluence.atlassian.com/x/yodKLg) for the project that the issue is in.\n   */\n  async removeWatcher<T = void>(parameters: Parameters.RemoveWatcher, callback?: never): Promise<T>;\n  async removeWatcher<T = void>(parameters: Parameters.RemoveWatcher, callback?: Callback<T>): Promise<void | T> {\n    const config: RequestConfig = {\n      url: `/rest/api/3/issue/${parameters.issueIdOrKey}/watchers`,\n      method: 'DELETE',\n      params: {\n        username: parameters.username,\n        accountId: parameters.accountId,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n}\n"],"names":[],"mappings":"MAMa,aAAa,CAAA;AACJ,IAAA,MAAA;AAApB,IAAA,WAAA,CAAoB,MAAc,EAAA;QAAd,IAAA,CAAA,MAAM,GAAN,MAAM;IAAW;AAwCrC,IAAA,MAAM,sBAAsB,CAC1B,UAA8C,EAC9C,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,4BAA4B;AACjC,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,IAAI,EAAE;gBACJ,QAAQ,EAAE,UAAU,EAAE,QAAQ;AAC/B,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AA2CA,IAAA,MAAM,gBAAgB,CACpB,UAAuC,EACvC,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,CAAA,kBAAA,EAAqB,UAAU,CAAC,YAAY,CAAA,SAAA,CAAW;AAC5D,YAAA,MAAM,EAAE,KAAK;SACd;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AAsCA,IAAA,MAAM,UAAU,CAAW,UAAiC,EAAE,QAAsB,EAAA;AAClF,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,CAAA,kBAAA,EAAqB,UAAU,CAAC,YAAY,CAAA,SAAA,CAAW;AAC5D,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,OAAO,EAAE;AACP,gBAAA,cAAc,EAAE,kBAAkB;AACnC,aAAA;YACD,IAAI,EAAE,UAAU,CAAC,SAAS;SAC3B;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AAoCA,IAAA,MAAM,aAAa,CAAW,UAAoC,EAAE,QAAsB,EAAA;AACxF,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,CAAA,kBAAA,EAAqB,UAAU,CAAC,YAAY,CAAA,SAAA,CAAW;AAC5D,YAAA,MAAM,EAAE,QAAQ;AAChB,YAAA,MAAM,EAAE;gBACN,QAAQ,EAAE,UAAU,CAAC,QAAQ;gBAC7B,SAAS,EAAE,UAAU,CAAC,SAAS;AAChC,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AACD;;;;"}