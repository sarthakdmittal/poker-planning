{"version":3,"file":"dynamicModules.mjs","sources":["../../../../src/version2/dynamicModules.ts"],"sourcesContent":["import type * as Models from './models';\nimport type * as Parameters from './parameters';\nimport type { Client } from '../clients';\nimport type { Callback } from '../callback';\nimport type { RequestConfig } from '../requestConfig';\n\nexport class DynamicModules {\n  constructor(private client: Client) {}\n\n  /**\n   * Returns all modules registered dynamically by the calling app.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:** Only\n   * Connect apps can make this request.\n   */\n  async getModules<T = Models.ConnectModules>(callback: Callback<T>): Promise<void>;\n  /**\n   * Returns all modules registered dynamically by the calling app.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:** Only\n   * Connect apps can make this request.\n   */\n  async getModules<T = Models.ConnectModules>(callback?: never): Promise<T>;\n  async getModules<T = Models.ConnectModules>(callback?: Callback<T>): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/atlassian-connect/1/app/module/dynamic',\n      method: 'GET',\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Registers a list of modules.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:** Only\n   * Connect apps can make this request.\n   */\n  async registerModules<T = unknown>(\n    parameters: Parameters.RegisterModules | undefined,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Registers a list of modules.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:** Only\n   * Connect apps can make this request.\n   */\n  async registerModules<T = unknown>(parameters?: Parameters.RegisterModules, callback?: never): Promise<T>;\n  async registerModules<T = unknown>(\n    parameters?: Parameters.RegisterModules,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/atlassian-connect/1/app/module/dynamic',\n      method: 'POST',\n      data: {\n        modules: parameters?.modules,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Remove all or a list of modules registered by the calling app.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:** Only\n   * Connect apps can make this request.\n   */\n  async removeModules<T = void>(parameters: Parameters.RemoveModules | undefined, callback: Callback<T>): Promise<void>;\n  /**\n   * Remove all or a list of modules registered by the calling app.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:** Only\n   * Connect apps can make this request.\n   */\n  async removeModules<T = void>(parameters?: Parameters.RemoveModules, callback?: never): Promise<T>;\n  async removeModules<T = void>(parameters?: Parameters.RemoveModules, callback?: Callback<T>): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/atlassian-connect/1/app/module/dynamic',\n      method: 'DELETE',\n      params: {\n        moduleKey: parameters?.moduleKey,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n}\n"],"names":[],"mappings":"MAMa,cAAc,CAAA;AACL,IAAA,MAAA;AAApB,IAAA,WAAA,CAAoB,MAAc,EAAA;QAAd,IAAA,CAAA,MAAM,GAAN,MAAM;IAAW;IAgBrC,MAAM,UAAU,CAA4B,QAAsB,EAAA;AAChE,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,8CAA8C;AACnD,YAAA,MAAM,EAAE,KAAK;SACd;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AAmBA,IAAA,MAAM,eAAe,CACnB,UAAuC,EACvC,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,8CAA8C;AACnD,YAAA,MAAM,EAAE,MAAM;AACd,YAAA,IAAI,EAAE;gBACJ,OAAO,EAAE,UAAU,EAAE,OAAO;AAC7B,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AAgBA,IAAA,MAAM,aAAa,CAAW,UAAqC,EAAE,QAAsB,EAAA;AACzF,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,8CAA8C;AACnD,YAAA,MAAM,EAAE,QAAQ;AAChB,YAAA,MAAM,EAAE;gBACN,SAAS,EAAE,UAAU,EAAE,SAAS;AACjC,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AACD;;;;"}