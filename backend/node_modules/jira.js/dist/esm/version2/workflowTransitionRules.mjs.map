{"version":3,"file":"workflowTransitionRules.mjs","sources":["../../../../src/version2/workflowTransitionRules.ts"],"sourcesContent":["import type * as Models from './models';\nimport type * as Parameters from './parameters';\nimport type { Client } from '../clients';\nimport type { Callback } from '../callback';\nimport type { RequestConfig } from '../requestConfig';\n\nexport class WorkflowTransitionRules {\n  constructor(private client: Client) {}\n\n  /**\n   * Returns a [paginated](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#pagination) list of\n   * workflows with transition rules. The workflows can be filtered to return only those containing workflow transition\n   * rules:\n   *\n   * - Of one or more transition rule types, such as [workflow post\n   *   functions](https://developer.atlassian.com/cloud/jira/platform/modules/workflow-post-function/).\n   * - Matching one or more transition rule keys.\n   *\n   * Only workflows containing transition rules created by the calling\n   * [Connect](https://developer.atlassian.com/cloud/jira/platform/index/#connect-apps) or\n   * [Forge](https://developer.atlassian.com/cloud/jira/platform/index/#forge-apps) app are returned.\n   *\n   * Due to server-side optimizations, workflows with an empty list of rules may be returned; these workflows can be\n   * ignored.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:** Only\n   * [Connect](https://developer.atlassian.com/cloud/jira/platform/index/#connect-apps) or\n   * [Forge](https://developer.atlassian.com/cloud/jira/platform/index/#forge-apps) apps can use this operation.\n   */\n  async getWorkflowTransitionRuleConfigurations<T = Models.PageWorkflowTransitionRules>(\n    parameters: Parameters.GetWorkflowTransitionRuleConfigurations,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Returns a [paginated](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#pagination) list of\n   * workflows with transition rules. The workflows can be filtered to return only those containing workflow transition\n   * rules:\n   *\n   * - Of one or more transition rule types, such as [workflow post\n   *   functions](https://developer.atlassian.com/cloud/jira/platform/modules/workflow-post-function/).\n   * - Matching one or more transition rule keys.\n   *\n   * Only workflows containing transition rules created by the calling\n   * [Connect](https://developer.atlassian.com/cloud/jira/platform/index/#connect-apps) or\n   * [Forge](https://developer.atlassian.com/cloud/jira/platform/index/#forge-apps) app are returned.\n   *\n   * Due to server-side optimizations, workflows with an empty list of rules may be returned; these workflows can be\n   * ignored.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:** Only\n   * [Connect](https://developer.atlassian.com/cloud/jira/platform/index/#connect-apps) or\n   * [Forge](https://developer.atlassian.com/cloud/jira/platform/index/#forge-apps) apps can use this operation.\n   */\n  async getWorkflowTransitionRuleConfigurations<T = Models.PageWorkflowTransitionRules>(\n    parameters: Parameters.GetWorkflowTransitionRuleConfigurations,\n    callback?: never,\n  ): Promise<T>;\n  async getWorkflowTransitionRuleConfigurations<T = Models.PageWorkflowTransitionRules>(\n    parameters: Parameters.GetWorkflowTransitionRuleConfigurations,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/api/2/workflow/rule/config',\n      method: 'GET',\n      params: {\n        startAt: parameters.startAt,\n        maxResults: parameters.maxResults,\n        types: parameters.types,\n        keys: parameters.keys,\n        workflowNames: parameters.workflowNames,\n        withTags: parameters.withTags,\n        draft: parameters.draft,\n        expand: parameters.expand,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Updates configuration of workflow transition rules. The following rule types are supported:\n   *\n   * - [post functions](https://developer.atlassian.com/cloud/jira/platform/modules/workflow-post-function/)\n   * - [conditions](https://developer.atlassian.com/cloud/jira/platform/modules/workflow-condition/)\n   * - [validators](https://developer.atlassian.com/cloud/jira/platform/modules/workflow-validator/)\n   *\n   * Only rules created by the calling\n   * [Connect](https://developer.atlassian.com/cloud/jira/platform/index/#connect-apps) or\n   * [Forge](https://developer.atlassian.com/cloud/jira/platform/index/#forge-apps) app can be updated.\n   *\n   * To assist with app migration, this operation can be used to:\n   *\n   * - Disable a rule.\n   * - Add a `tag`. Use this to filter rules in the [Get workflow transition rule\n   *   configurations](https://developer.atlassian.com/cloud/jira/platform/rest/v2/api-group-workflow-transition-rules/#api-rest-api-2-workflow-rule-config-get).\n   *\n   * Rules are enabled if the `disabled` parameter is not provided.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:** Only\n   * [Connect](https://developer.atlassian.com/cloud/jira/platform/index/#connect-apps) or\n   * [Forge](https://developer.atlassian.com/cloud/jira/platform/index/#forge-apps) apps can use this operation.\n   */\n  async updateWorkflowTransitionRuleConfigurations<T = Models.WorkflowTransitionRulesUpdateErrors>(\n    parameters: Parameters.UpdateWorkflowTransitionRuleConfigurations,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Updates configuration of workflow transition rules. The following rule types are supported:\n   *\n   * - [post functions](https://developer.atlassian.com/cloud/jira/platform/modules/workflow-post-function/)\n   * - [conditions](https://developer.atlassian.com/cloud/jira/platform/modules/workflow-condition/)\n   * - [validators](https://developer.atlassian.com/cloud/jira/platform/modules/workflow-validator/)\n   *\n   * Only rules created by the calling\n   * [Connect](https://developer.atlassian.com/cloud/jira/platform/index/#connect-apps) or\n   * [Forge](https://developer.atlassian.com/cloud/jira/platform/index/#forge-apps) app can be updated.\n   *\n   * To assist with app migration, this operation can be used to:\n   *\n   * - Disable a rule.\n   * - Add a `tag`. Use this to filter rules in the [Get workflow transition rule\n   *   configurations](https://developer.atlassian.com/cloud/jira/platform/rest/v2/api-group-workflow-transition-rules/#api-rest-api-2-workflow-rule-config-get).\n   *\n   * Rules are enabled if the `disabled` parameter is not provided.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:** Only\n   * [Connect](https://developer.atlassian.com/cloud/jira/platform/index/#connect-apps) or\n   * [Forge](https://developer.atlassian.com/cloud/jira/platform/index/#forge-apps) apps can use this operation.\n   */\n  async updateWorkflowTransitionRuleConfigurations<T = Models.WorkflowTransitionRulesUpdateErrors>(\n    parameters: Parameters.UpdateWorkflowTransitionRuleConfigurations,\n    callback?: never,\n  ): Promise<T>;\n  async updateWorkflowTransitionRuleConfigurations<T = Models.WorkflowTransitionRulesUpdateErrors>(\n    parameters: Parameters.UpdateWorkflowTransitionRuleConfigurations,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/api/2/workflow/rule/config',\n      method: 'PUT',\n      data: {\n        workflows: parameters.workflows,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n\n  /**\n   * Deletes workflow transition rules from one or more workflows. These rule types are supported:\n   *\n   * - [post functions](https://developer.atlassian.com/cloud/jira/platform/modules/workflow-post-function/)\n   * - [conditions](https://developer.atlassian.com/cloud/jira/platform/modules/workflow-condition/)\n   * - [validators](https://developer.atlassian.com/cloud/jira/platform/modules/workflow-validator/)\n   *\n   * Only rules created by the calling Connect app can be deleted.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:** Only\n   * Connect apps can use this operation.\n   */\n  async deleteWorkflowTransitionRuleConfigurations<T = Models.WorkflowTransitionRulesUpdateErrors>(\n    parameters: Parameters.DeleteWorkflowTransitionRuleConfigurations | undefined,\n    callback: Callback<T>,\n  ): Promise<void>;\n  /**\n   * Deletes workflow transition rules from one or more workflows. These rule types are supported:\n   *\n   * - [post functions](https://developer.atlassian.com/cloud/jira/platform/modules/workflow-post-function/)\n   * - [conditions](https://developer.atlassian.com/cloud/jira/platform/modules/workflow-condition/)\n   * - [validators](https://developer.atlassian.com/cloud/jira/platform/modules/workflow-validator/)\n   *\n   * Only rules created by the calling Connect app can be deleted.\n   *\n   * **[Permissions](https://developer.atlassian.com/cloud/jira/platform/rest/v2/intro/#permissions) required:** Only\n   * Connect apps can use this operation.\n   */\n  async deleteWorkflowTransitionRuleConfigurations<T = Models.WorkflowTransitionRulesUpdateErrors>(\n    parameters?: Parameters.DeleteWorkflowTransitionRuleConfigurations,\n    callback?: never,\n  ): Promise<T>;\n  async deleteWorkflowTransitionRuleConfigurations<T = Models.WorkflowTransitionRulesUpdateErrors>(\n    parameters?: Parameters.DeleteWorkflowTransitionRuleConfigurations,\n    callback?: Callback<T>,\n  ): Promise<void | T> {\n    const config: RequestConfig = {\n      url: '/rest/api/2/workflow/rule/config/delete',\n      method: 'PUT',\n      data: {\n        workflows: parameters?.workflows,\n      },\n    };\n\n    return this.client.sendRequest(config, callback);\n  }\n}\n"],"names":[],"mappings":"MAMa,uBAAuB,CAAA;AACd,IAAA,MAAA;AAApB,IAAA,WAAA,CAAoB,MAAc,EAAA;QAAd,IAAA,CAAA,MAAM,GAAN,MAAM;IAAW;AAkDrC,IAAA,MAAM,uCAAuC,CAC3C,UAA8D,EAC9D,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,kCAAkC;AACvC,YAAA,MAAM,EAAE,KAAK;AACb,YAAA,MAAM,EAAE;gBACN,OAAO,EAAE,UAAU,CAAC,OAAO;gBAC3B,UAAU,EAAE,UAAU,CAAC,UAAU;gBACjC,KAAK,EAAE,UAAU,CAAC,KAAK;gBACvB,IAAI,EAAE,UAAU,CAAC,IAAI;gBACrB,aAAa,EAAE,UAAU,CAAC,aAAa;gBACvC,QAAQ,EAAE,UAAU,CAAC,QAAQ;gBAC7B,KAAK,EAAE,UAAU,CAAC,KAAK;gBACvB,MAAM,EAAE,UAAU,CAAC,MAAM;AAC1B,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AAwDA,IAAA,MAAM,0CAA0C,CAC9C,UAAiE,EACjE,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,kCAAkC;AACvC,YAAA,MAAM,EAAE,KAAK;AACb,YAAA,IAAI,EAAE;gBACJ,SAAS,EAAE,UAAU,CAAC,SAAS;AAChC,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AAkCA,IAAA,MAAM,0CAA0C,CAC9C,UAAkE,EAClE,QAAsB,EAAA;AAEtB,QAAA,MAAM,MAAM,GAAkB;AAC5B,YAAA,GAAG,EAAE,yCAAyC;AAC9C,YAAA,MAAM,EAAE,KAAK;AACb,YAAA,IAAI,EAAE;gBACJ,SAAS,EAAE,UAAU,EAAE,SAAS;AACjC,aAAA;SACF;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC;IAClD;AACD;;;;"}